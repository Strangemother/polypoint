{
    "defs": [
        {
            "word": "cosSin",
            "sub_type": "VariableDeclarator",
            "init": {
                "type": "FunctionExpression",
                "id": null,
                "generator": false,
                "expression": false,
                "async": false,
                "params": [
                    {
                        "name": "value",
                        "default_value": 1
                    }
                ],
                "pos": {
                    "start": 89,
                    "end": 1788,
                    "loc": {
                        "start": {
                            "line": 4,
                            "column": 15
                        },
                        "end": {
                            "line": 57,
                            "column": 1
                        }
                    }
                }
            },
            "comments": {
                "header": [
                    {
                        "text": "\r\nThe relative motion addon supplied `Point.relative` methods, to\r\n ",
                        "block": true,
                        "line": 3
                    }
                ],
                "inner": [
                    {
                        "text": " The cosSin object is a simple helper for cos/sin of a value.\r\n\r\n        cs = cosSin(100)\r\n        cs.cos()\r\n        cs.sin()\r\n\r\n    Provide a multiplier - useful when rotating around a _point_ (such as a normalised value)\r\n\r\n        cs.sin(.4)\r\n     ",
                        "block": true,
                        "line": 14
                    }
                ]
            },
            "pos": {
                "start": 74,
                "end": 1788,
                "loc": {
                    "start": {
                        "line": 4,
                        "column": 0
                    },
                    "end": {
                        "line": 57,
                        "column": 1
                    }
                }
            },
            "type": "VariableDeclaration",
            "start": 74,
            "end": 1788,
            "loc": {
                "start": {
                    "line": 4,
                    "column": 0
                },
                "end": {
                    "line": 57,
                    "column": 1
                }
            },
            "kind": "const"
        },
        {
            "kind": "class",
            "word": "Addon",
            "parentName": null,
            "type": "ClassDeclaration",
            "body": [],
            "comments": {
                "header": [],
                "inner": [
                    {
                        "text": " An Addon applies some core functionality on the polypoint mixin\r\n    such as a constructor, and destroy methods.\r\n     ",
                        "block": true,
                        "line": 63
                    }
                ]
            },
            "pos": {
                "start": 1794,
                "end": 1940,
                "loc": {
                    "start": {
                        "line": 60,
                        "column": 0
                    },
                    "end": {
                        "line": 64,
                        "column": 1
                    }
                }
            }
        },
        {
            "word": "impartOnRads",
            "sub_type": "VariableDeclarator",
            "init": {
                "type": "FunctionExpression",
                "id": null,
                "generator": false,
                "expression": false,
                "async": false,
                "params": [
                    {
                        "name": "radians"
                    },
                    {
                        "name": "direction"
                    }
                ],
                "pos": {
                    "start": 1967,
                    "end": 2884,
                    "loc": {
                        "start": {
                            "line": 67,
                            "column": 21
                        },
                        "end": {
                            "line": 94,
                            "column": 1
                        }
                    }
                }
            },
            "comments": {
                "header": [],
                "inner": [
                    {
                        "text": "\r\n    Push a XY in a direction relative to the radians.\r\n\r\n        const r = impartOnRads(a.radians, direction)\r\n\r\n    For example - pointing _right_ and applying the _{1,0}_ direction (denoting forward)\r\n        will push the point further right, applying _{0, 1}_ pushes the point _left_\r\n        relative to its direction.\r\n\r\n        Or to rephase, imagine a engine on the back of the point - pushing _forward_.\r\n     ",
                        "block": true,
                        "line": 78
                    }
                ]
            },
            "pos": {
                "start": 1946,
                "end": 2884,
                "loc": {
                    "start": {
                        "line": 67,
                        "column": 0
                    },
                    "end": {
                        "line": 94,
                        "column": 1
                    }
                }
            },
            "type": "VariableDeclaration",
            "start": 1946,
            "end": 2884,
            "loc": {
                "start": {
                    "line": 67,
                    "column": 0
                },
                "end": {
                    "line": 94,
                    "column": 1
                }
            },
            "kind": "const"
        },
        {
            "kind": "class",
            "word": "RelativeMotion",
            "parentName": null,
            "type": "ClassDeclaration",
            "body": [
                {
                    "kind": "constructor",
                    "word": "constructor",
                    "static": false,
                    "computed": false,
                    "is_symbol": false,
                    "value": {
                        "type": "FunctionExpression",
                        "id": null,
                        "generator": false,
                        "expression": false,
                        "async": false,
                        "params": [
                            {
                                "name": "parent"
                            }
                        ],
                        "pos": {
                            "start": 2929,
                            "end": 2977,
                            "loc": {
                                "start": {
                                    "line": 98,
                                    "column": 15
                                },
                                "end": {
                                    "line": 100,
                                    "column": 5
                                }
                            }
                        }
                    },
                    "type": "MethodDefinition",
                    "comments": {
                        "header": [],
                        "inner": []
                    },
                    "pos": {
                        "start": 2918,
                        "end": 2977,
                        "loc": {
                            "start": {
                                "line": 98,
                                "column": 4
                            },
                            "end": {
                                "line": 100,
                                "column": 5
                            }
                        }
                    }
                },
                {
                    "kind": "method",
                    "word": "_relativeMove",
                    "static": false,
                    "computed": false,
                    "is_symbol": false,
                    "value": {
                        "type": "FunctionExpression",
                        "id": null,
                        "generator": false,
                        "expression": false,
                        "async": false,
                        "params": [
                            {
                                "name": "direction"
                            },
                            {
                                "name": "speed",
                                "default_value": "undefined"
                            },
                            {
                                "name": "minSpeed",
                                "default_value": 0
                            },
                            {
                                "name": "maxSpeed",
                                "default_value": 1
                            }
                        ],
                        "pos": {
                            "start": 2998,
                            "end": 3597,
                            "loc": {
                                "start": {
                                    "line": 102,
                                    "column": 17
                                },
                                "end": {
                                    "line": 117,
                                    "column": 5
                                }
                            }
                        }
                    },
                    "type": "MethodDefinition",
                    "comments": {
                        "header": [],
                        "inner": [
                            {
                                "text": " Normalize the direction vector",
                                "block": false,
                                "line": 104
                            }
                        ]
                    },
                    "pos": {
                        "start": 2985,
                        "end": 3597,
                        "loc": {
                            "start": {
                                "line": 102,
                                "column": 4
                            },
                            "end": {
                                "line": 117,
                                "column": 5
                            }
                        }
                    }
                },
                {
                    "kind": "method",
                    "word": "move",
                    "static": false,
                    "computed": false,
                    "is_symbol": false,
                    "value": {
                        "type": "FunctionExpression",
                        "id": null,
                        "generator": false,
                        "expression": false,
                        "async": false,
                        "params": [
                            {
                                "name": "direction"
                            },
                            {
                                "name": "speed"
                            },
                            {
                                "name": "minSpeed"
                            },
                            {
                                "name": "maxSpeed"
                            }
                        ],
                        "pos": {
                            "start": 3609,
                            "end": 3729,
                            "loc": {
                                "start": {
                                    "line": 119,
                                    "column": 8
                                },
                                "end": {
                                    "line": 121,
                                    "column": 5
                                }
                            }
                        }
                    },
                    "type": "MethodDefinition",
                    "comments": {
                        "header": [],
                        "inner": []
                    },
                    "pos": {
                        "start": 3605,
                        "end": 3729,
                        "loc": {
                            "start": {
                                "line": 119,
                                "column": 4
                            },
                            "end": {
                                "line": 121,
                                "column": 5
                            }
                        }
                    }
                },
                {
                    "kind": "method",
                    "word": "left",
                    "static": false,
                    "computed": false,
                    "is_symbol": false,
                    "value": {
                        "type": "FunctionExpression",
                        "id": null,
                        "generator": false,
                        "expression": false,
                        "async": false,
                        "params": [
                            {
                                "name": "speed"
                            },
                            {
                                "name": "minSpeed"
                            },
                            {
                                "name": "maxSpeed"
                            }
                        ],
                        "pos": {
                            "start": 3741,
                            "end": 3949,
                            "loc": {
                                "start": {
                                    "line": 123,
                                    "column": 8
                                },
                                "end": {
                                    "line": 128,
                                    "column": 5
                                }
                            }
                        }
                    },
                    "type": "MethodDefinition",
                    "comments": {
                        "header": [],
                        "inner": []
                    },
                    "pos": {
                        "start": 3737,
                        "end": 3949,
                        "loc": {
                            "start": {
                                "line": 123,
                                "column": 4
                            },
                            "end": {
                                "line": 128,
                                "column": 5
                            }
                        }
                    }
                },
                {
                    "kind": "method",
                    "word": "right",
                    "static": false,
                    "computed": false,
                    "is_symbol": false,
                    "value": {
                        "type": "FunctionExpression",
                        "id": null,
                        "generator": false,
                        "expression": false,
                        "async": false,
                        "params": [
                            {
                                "name": "speed"
                            },
                            {
                                "name": "minSpeed"
                            },
                            {
                                "name": "maxSpeed"
                            }
                        ],
                        "pos": {
                            "start": 3962,
                            "end": 4169,
                            "loc": {
                                "start": {
                                    "line": 130,
                                    "column": 9
                                },
                                "end": {
                                    "line": 135,
                                    "column": 5
                                }
                            }
                        }
                    },
                    "type": "MethodDefinition",
                    "comments": {
                        "header": [],
                        "inner": []
                    },
                    "pos": {
                        "start": 3957,
                        "end": 4169,
                        "loc": {
                            "start": {
                                "line": 130,
                                "column": 4
                            },
                            "end": {
                                "line": 135,
                                "column": 5
                            }
                        }
                    }
                },
                {
                    "kind": "method",
                    "word": "forward",
                    "static": false,
                    "computed": false,
                    "is_symbol": false,
                    "value": {
                        "type": "FunctionExpression",
                        "id": null,
                        "generator": false,
                        "expression": false,
                        "async": false,
                        "params": [
                            {
                                "name": "speed"
                            },
                            {
                                "name": "minSpeed"
                            },
                            {
                                "name": "maxSpeed"
                            }
                        ],
                        "pos": {
                            "start": 4184,
                            "end": 4391,
                            "loc": {
                                "start": {
                                    "line": 137,
                                    "column": 11
                                },
                                "end": {
                                    "line": 142,
                                    "column": 5
                                }
                            }
                        }
                    },
                    "type": "MethodDefinition",
                    "comments": {
                        "header": [],
                        "inner": []
                    },
                    "pos": {
                        "start": 4177,
                        "end": 4391,
                        "loc": {
                            "start": {
                                "line": 137,
                                "column": 4
                            },
                            "end": {
                                "line": 142,
                                "column": 5
                            }
                        }
                    }
                },
                {
                    "kind": "method",
                    "word": "backward",
                    "static": false,
                    "computed": false,
                    "is_symbol": false,
                    "value": {
                        "type": "FunctionExpression",
                        "id": null,
                        "generator": false,
                        "expression": false,
                        "async": false,
                        "params": [
                            {
                                "name": "speed"
                            },
                            {
                                "name": "minSpeed"
                            },
                            {
                                "name": "maxSpeed"
                            }
                        ],
                        "pos": {
                            "start": 4407,
                            "end": 4598,
                            "loc": {
                                "start": {
                                    "line": 144,
                                    "column": 12
                                },
                                "end": {
                                    "line": 149,
                                    "column": 5
                                }
                            }
                        }
                    },
                    "type": "MethodDefinition",
                    "comments": {
                        "header": [],
                        "inner": []
                    },
                    "pos": {
                        "start": 4399,
                        "end": 4598,
                        "loc": {
                            "start": {
                                "line": 144,
                                "column": 4
                            },
                            "end": {
                                "line": 149,
                                "column": 5
                            }
                        }
                    }
                },
                {
                    "kind": "method",
                    "word": "towards",
                    "static": false,
                    "computed": false,
                    "is_symbol": false,
                    "value": {
                        "type": "FunctionExpression",
                        "id": null,
                        "generator": false,
                        "expression": false,
                        "async": false,
                        "params": [
                            {
                                "name": "other"
                            },
                            {
                                "name": "turnSpeed",
                                "default_value": 0.1
                            },
                            {
                                "name": "speed"
                            },
                            {
                                "name": "minSpeed"
                            },
                            {
                                "name": "maxSpeed"
                            }
                        ],
                        "pos": {
                            "start": 4613,
                            "end": 4792,
                            "loc": {
                                "start": {
                                    "line": 151,
                                    "column": 11
                                },
                                "end": {
                                    "line": 154,
                                    "column": 5
                                }
                            }
                        }
                    },
                    "type": "MethodDefinition",
                    "comments": {
                        "header": [],
                        "inner": []
                    },
                    "pos": {
                        "start": 4606,
                        "end": 4792,
                        "loc": {
                            "start": {
                                "line": 151,
                                "column": 4
                            },
                            "end": {
                                "line": 154,
                                "column": 5
                            }
                        }
                    }
                }
            ],
            "comments": {
                "header": [],
                "inner": [
                    {
                        "text": " Normalize the direction vector",
                        "block": false,
                        "line": 104
                    }
                ]
            },
            "pos": {
                "start": 2890,
                "end": 4795,
                "loc": {
                    "start": {
                        "line": 97,
                        "column": 0
                    },
                    "end": {
                        "line": 155,
                        "column": 1
                    }
                }
            }
        },
        {
            "type": "ExpressionStatement",
            "expression": {
                "type": "CallExpression",
                "start": 4801,
                "end": 4915,
                "loc": {
                    "start": {
                        "line": 158,
                        "column": 0
                    },
                    "end": {
                        "line": 162,
                        "column": 1
                    }
                },
                "callee": {
                    "type": "MemberExpression",
                    "start": 4801,
                    "end": 4828,
                    "loc": {
                        "start": {
                            "line": 158,
                            "column": 0
                        },
                        "end": {
                            "line": 158,
                            "column": 27
                        }
                    },
                    "object": {
                        "type": "MemberExpression",
                        "start": 4801,
                        "end": 4815,
                        "loc": {
                            "start": {
                                "line": 158,
                                "column": 0
                            },
                            "end": {
                                "line": 158,
                                "column": 14
                            }
                        },
                        "object": {
                            "type": "Identifier",
                            "start": 4801,
                            "end": 4810,
                            "loc": {
                                "start": {
                                    "line": 158,
                                    "column": 0
                                },
                                "end": {
                                    "line": 158,
                                    "column": 9
                                }
                            },
                            "name": "Polypoint",
                            "pos": {
                                "start": 4801,
                                "end": 4810,
                                "loc": {
                                    "start": {
                                        "line": 158,
                                        "column": 0
                                    },
                                    "end": {
                                        "line": 158,
                                        "column": 9
                                    }
                                }
                            }
                        },
                        "property": {
                            "type": "Identifier",
                            "start": 4811,
                            "end": 4815,
                            "loc": {
                                "start": {
                                    "line": 158,
                                    "column": 10
                                },
                                "end": {
                                    "line": 158,
                                    "column": 14
                                }
                            },
                            "name": "head",
                            "pos": {
                                "start": 4811,
                                "end": 4815,
                                "loc": {
                                    "start": {
                                        "line": 158,
                                        "column": 10
                                    },
                                    "end": {
                                        "line": 158,
                                        "column": 14
                                    }
                                }
                            }
                        },
                        "computed": false,
                        "optional": false,
                        "pos": {
                            "start": 4801,
                            "end": 4815,
                            "loc": {
                                "start": {
                                    "line": 158,
                                    "column": 0
                                },
                                "end": {
                                    "line": 158,
                                    "column": 14
                                }
                            }
                        }
                    },
                    "property": {
                        "type": "Identifier",
                        "start": 4816,
                        "end": 4828,
                        "loc": {
                            "start": {
                                "line": 158,
                                "column": 15
                            },
                            "end": {
                                "line": 158,
                                "column": 27
                            }
                        },
                        "name": "deferredProp",
                        "pos": {
                            "start": 4816,
                            "end": 4828,
                            "loc": {
                                "start": {
                                    "line": 158,
                                    "column": 15
                                },
                                "end": {
                                    "line": 158,
                                    "column": 27
                                }
                            }
                        }
                    },
                    "computed": false,
                    "optional": false,
                    "pos": {
                        "start": 4801,
                        "end": 4828,
                        "loc": {
                            "start": {
                                "line": 158,
                                "column": 0
                            },
                            "end": {
                                "line": 158,
                                "column": 27
                            }
                        }
                    }
                },
                "arguments": [
                    {
                        "type": "Literal",
                        "start": 4829,
                        "end": 4836,
                        "loc": {
                            "start": {
                                "line": 158,
                                "column": 28
                            },
                            "end": {
                                "line": 158,
                                "column": 35
                            }
                        },
                        "value": "Point",
                        "raw": "'Point'",
                        "pos": {
                            "start": 4829,
                            "end": 4836,
                            "loc": {
                                "start": {
                                    "line": 158,
                                    "column": 28
                                },
                                "end": {
                                    "line": 158,
                                    "column": 35
                                }
                            }
                        }
                    },
                    {
                        "type": "FunctionExpression",
                        "start": 4843,
                        "end": 4912,
                        "loc": {
                            "start": {
                                "line": 159,
                                "column": 4
                            },
                            "end": {
                                "line": 161,
                                "column": 5
                            }
                        },
                        "id": {
                            "type": "Identifier",
                            "start": 4852,
                            "end": 4860,
                            "loc": {
                                "start": {
                                    "line": 159,
                                    "column": 13
                                },
                                "end": {
                                    "line": 159,
                                    "column": 21
                                }
                            },
                            "name": "relative",
                            "pos": {
                                "start": 4852,
                                "end": 4860,
                                "loc": {
                                    "start": {
                                        "line": 159,
                                        "column": 13
                                    },
                                    "end": {
                                        "line": 159,
                                        "column": 21
                                    }
                                }
                            }
                        },
                        "expression": false,
                        "generator": false,
                        "async": false,
                        "params": [],
                        "body": {
                            "type": "BlockStatement",
                            "start": 4863,
                            "end": 4912,
                            "loc": {
                                "start": {
                                    "line": 159,
                                    "column": 24
                                },
                                "end": {
                                    "line": 161,
                                    "column": 5
                                }
                            },
                            "body": [
                                {
                                    "type": "ReturnStatement",
                                    "start": 4874,
                                    "end": 4905,
                                    "loc": {
                                        "start": {
                                            "line": 160,
                                            "column": 8
                                        },
                                        "end": {
                                            "line": 160,
                                            "column": 39
                                        }
                                    },
                                    "argument": {
                                        "type": "NewExpression",
                                        "start": 4881,
                                        "end": 4905,
                                        "loc": {
                                            "start": {
                                                "line": 160,
                                                "column": 15
                                            },
                                            "end": {
                                                "line": 160,
                                                "column": 39
                                            }
                                        },
                                        "callee": {
                                            "type": "Identifier",
                                            "start": 4885,
                                            "end": 4899,
                                            "loc": {
                                                "start": {
                                                    "line": 160,
                                                    "column": 19
                                                },
                                                "end": {
                                                    "line": 160,
                                                    "column": 33
                                                }
                                            },
                                            "name": "RelativeMotion",
                                            "pos": {
                                                "start": 4885,
                                                "end": 4899,
                                                "loc": {
                                                    "start": {
                                                        "line": 160,
                                                        "column": 19
                                                    },
                                                    "end": {
                                                        "line": 160,
                                                        "column": 33
                                                    }
                                                }
                                            }
                                        },
                                        "arguments": [
                                            {
                                                "type": "ThisExpression",
                                                "start": 4900,
                                                "end": 4904,
                                                "loc": {
                                                    "start": {
                                                        "line": 160,
                                                        "column": 34
                                                    },
                                                    "end": {
                                                        "line": 160,
                                                        "column": 38
                                                    }
                                                },
                                                "pos": {
                                                    "start": 4900,
                                                    "end": 4904,
                                                    "loc": {
                                                        "start": {
                                                            "line": 160,
                                                            "column": 34
                                                        },
                                                        "end": {
                                                            "line": 160,
                                                            "column": 38
                                                        }
                                                    }
                                                }
                                            }
                                        ],
                                        "pos": {
                                            "start": 4881,
                                            "end": 4905,
                                            "loc": {
                                                "start": {
                                                    "line": 160,
                                                    "column": 15
                                                },
                                                "end": {
                                                    "line": 160,
                                                    "column": 39
                                                }
                                            }
                                        }
                                    },
                                    "pos": {
                                        "start": 4874,
                                        "end": 4905,
                                        "loc": {
                                            "start": {
                                                "line": 160,
                                                "column": 8
                                            },
                                            "end": {
                                                "line": 160,
                                                "column": 39
                                            }
                                        }
                                    }
                                }
                            ],
                            "pos": {
                                "start": 4863,
                                "end": 4912,
                                "loc": {
                                    "start": {
                                        "line": 159,
                                        "column": 24
                                    },
                                    "end": {
                                        "line": 161,
                                        "column": 5
                                    }
                                }
                            }
                        },
                        "pos": {
                            "start": 4843,
                            "end": 4912,
                            "loc": {
                                "start": {
                                    "line": 159,
                                    "column": 4
                                },
                                "end": {
                                    "line": 161,
                                    "column": 5
                                }
                            }
                        }
                    }
                ],
                "optional": false,
                "pos": {
                    "start": 4801,
                    "end": 4915,
                    "loc": {
                        "start": {
                            "line": 158,
                            "column": 0
                        },
                        "end": {
                            "line": 162,
                            "column": 1
                        }
                    }
                }
            },
            "pos": {
                "start": 4801,
                "end": 4916,
                "loc": {
                    "start": {
                        "line": 158,
                        "column": 0
                    },
                    "end": {
                        "line": 162,
                        "column": 2
                    }
                }
            }
        }
    ],
    "types": [
        "VariableDeclaration",
        "ClassDeclaration",
        "VariableDeclaration",
        "ClassDeclaration",
        "ExpressionStatement"
    ],
    "info": {
        "filename": "relative.js",
        "path": "/workspaces/polypoint/point_src/relative.js",
        "size": 4920,
        "parsed_date": "2025-11-02T21:11:39.374Z"
    }
}